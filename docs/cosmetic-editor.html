<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <title>Cosmetic Toolkit Preview</title>
  <link rel="icon" href="./favicon.svg" type="image/svg+xml">
  <link rel="stylesheet" href="./cosmetic-editor.css">
</head>
<body>
  <main class="editor-layout">
    <section class="editor-preview">
      <canvas id="cosmeticCanvas" width="720" height="460" aria-label="Cosmetic preview"></canvas>
      <div id="bucketHint" class="bucket-hint" hidden>Bucket mode active â€” click the canvas to fill with your selected colour.</div>
    </section>
    <section class="editor-controls">
      <div class="panel">
        <h2>Fighter</h2>
        <select id="fighterSelect" aria-label="Select fighter"></select>
        <p style="margin-top:8px;">Loads cosmetics from config.js so you can preview a fighter's wardrobe quickly.</p>
      </div>
      <div class="panel">
        <h2>Cosmetic Slots</h2>
        <div id="cosmeticSlotRows"></div>
        <p style="margin-top:12px;">Use "Edit" to tweak sprite style overrides live.</p>
      </div>
      <div class="panel">
        <h2>Bucket Tool</h2>
        <label style="display:flex;flex-direction:column;gap:6px;">
          <span>Hex colour</span>
          <input id="bucketColor" type="text" placeholder="#ff3366" value="#ff3366" spellcheck="false" aria-label="Bucket fill hex colour">
        </label>
        <div class="bucket-actions" style="margin-top:12px;">
          <button type="button" id="bucketToggle">ðŸŽ¨ Bucket Mode</button>
          <button type="button" id="bucketUndo" disabled>â†© Undo</button>
          <button type="button" id="bucketClear">ðŸ§¹ Clear Paint</button>
        </div>
        <p style="margin-top:10px;">Bucket fill paints directly on the preview layer. Undo is limited to the last 20 fills.</p>
      </div>
      <div class="panel style-inspector" id="styleInspector" data-active="false">
        <div class="style-header">
          <strong id="styleActiveSlot">No slot selected</strong>
          <div class="style-actions">
            <button type="button" id="resetPartOverrides">Reset Part</button>
            <button type="button" id="resetSlotOverrides">Reset Slot</button>
          </div>
        </div>
        <label style="display:flex;flex-direction:column;gap:6px;">
          <span>Part</span>
          <select id="stylePartSelect" aria-label="Select cosmetic part"></select>
        </label>
        <div id="styleFields"></div>
      </div>
      <div class="panel">
        <h2>Status</h2>
        <div id="editorStatus" role="status" aria-live="polite"></div>
      </div>
    </section>
  </main>

  <script src="./config/config.js"></script>
  <script type="module" src="./js/cosmetic-library.js?v=1"></script>
  <script type="module" src="./js/cosmetic-profiles.js?v=1"></script>
  <script type="module" src="./js/cosmetic-editor-app.js?v=1"></script>
</body>
</html>
